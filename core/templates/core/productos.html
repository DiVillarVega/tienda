{% extends 'core/base.html' %}
{% load static %}
{% load custom_filters %}

{% block content %}
    <!-- contenido principal -->
    <main role="main">
        <div class="container">
            <section class="text center">
                <h1 class="cute-font-regular neon">MANTENEDOR DE PRODUCTOS</h1>
                <br>

                <!-- Formulario de registro de producto -->
                <form method="POST" enctype="multipart/form-data" id="formulario_productos" action="" class="white-text">
                    {% csrf_token %}
                    <div class="container-fluid">
                        <div class="row">
                            <!-- campos del registro de producto -->
                            <div class="col-sm-12 col-md-6 col-lg-8">
                                {{ form|as_bootstrap_form }}
                            </div>
                            <!-- foto de perfil -->
                            <div class="col-sm-12 col-md-6 col-lg-4">
                                <br>
                                <div class="image-container">
                                    <img src="{% static 'core/img/perfil.webp'%}" alt="" class="user-image"/>
                                    <input type="file" class="form-control file-input">
                                </div>
                            </div>
                            <!-- fin foto perfil -->
                        </div>
                        <br>
                    </div>
                    <div class="row">
                        <div class="col text-center">
                            <button type="submit" class="btn btn-primary boton_registro">Guardar nuevo</button>
                            <button type="update" class="btn btn-primary boton_registro">Actualizar</button>
                            <button type="reset" class="btn btn-primary boton_registro">Eliminar</button>
                        </div>
                    </div>
                </form>
                        
                        <br><br>
                        <!-- tabla godines -->
                        <table class="table table-hover">
                            <thead>
                                <th scope="col" class="text-center d-none d-lg-block d-lg-table-cell">ID</th>
                                <th scope="col" class="text-center">Categoría</th>
                                <th scope="col" class="text-center">Producto</th>
                                <th scope="col" class="text-center">Descripción</th>
                                <th scope="col" class="text-center">Precio</th>
                                <th scope="col" class="text-center">%Desc Subscriptor</th>
                                <th scope="col" class="text-center">%Desc Oferta</th>
                                <th scope="col" class="text-center">Imagen</th>
                            </thead>
                            <tbody>
                                {% for producto in productos %}
                                <!-- Primera linea -->
                                    <tr>
                                        <td class="letra-titulo-producto3jajalol">{{ producto.id }}</td>
                                        <td >{{ producto.categoria }}</td>
                                        <td >{{ producto.nombre }}</td>
                                        <td >{{ producto.descripcion }}</td>
                                        <td >${{ producto.precio }}</td>
                                        <td >{{ producto.descuento_subscriptor }}%</td>
                                        <td >{{ producto.descuento_oferta }}%</td>
                                        <td><img height="100px" src="/media/{{ producto.imagen }}"></td>
                                    </tr>
                                {% endfor %}
                                
                            </tbody>
                        </table>
            </section>
        </div>
    </main>
{% endblock content %}

{% block script %}
    <script src="{% static 'core/js/validacion_productos.js'%}"></script>
{% endblock script %}

